<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>calculatrix ðŸ’ªðŸ’ª</title>
</head>

<body>
  <div class="operator">
    <button id="+" type="button" onClick="operation(this.id)">add</button>
    <button id="-" type="button" onClick="operation(this.id)">subtract</button>
    <button id="*" type="button" onClick="operation(this.id)">multiply</button>
    <button id="/" type="button" onClick="operation(this.id)">divide</button>
    <button id="**" type="button" onClick="operation(this.id)">power</button>
  </div>
  <div class="number">
    <button id="1" type="button" onClick="reply_click(this.id)">1</button>
    <button id="2" type="button" onClick="reply_click(this.id)">2</button>
    <button id="3" type="button" onClick="reply_click(this.id)">3</button>
    <button id="4" type="button" onClick="reply_click(this.id)">4</button>
    <button id="5" type="button" onClick="reply_click(this.id)">5</button>
    <button id="6" type="button" onClick="reply_click(this.id)">6</button>
    <button id="7" type="button" onClick="reply_click(this.id)">7</button>
    <button id="8" type="button" onClick="reply_click(this.id)">8</button>
    <button id="9" type="button" onClick="reply_click(this.id)">9</button>
    <button id="0" type="button" onClick="reply_click(this.id)">0</button>
  </div>
  <button id="operate" type="button">operate</button>
  <p id="previous"></p>
  <p id="total"></p>
</body>
<style>
  body {
    background-color: black;
  }

  p {
    color: white;
  }
</style>
<script>
  let currentInput=0 ;
  let pastInput = 0;
  let total = 0;
  let currentOperation; 
  const actions = {
    '+': (currentInput, pastInput) => parseFloat(currentInput) + parseFloat(pastInput),
    '-': (currentInput, pastInput) => parseFloat(currentInput) - parseFloat(pastInput),
    '*': (currentInput, pastInput) => parseFloat(currentInput) * parseFloat(pastInput),
    '/': (currentInput, pastInput) => parseFloat(currentInput) / parseFloat(pastInput),
    '**': (currentInput, pastInput) => parseFloat(currentInput) ** parseFloat(pastInput),
  };

  function reply_click(clicked_id) {
    currentInput += clicked_id;
    //console.log(currentInput + " |pastInput = " + typeof (pastInput) + pastInput + " |currentInput = " + typeof (currentInput) + currentInput + " |currentOperation = " + currentOperation);
    document.getElementById("total").innerHTML = currentInput;
  }

  function operation(clicked_Id) {
    //console.log("YOU JUST CLICKED AN OPERATOR: "+ clicked_Id+ " |pastInput = " +typeof (pastInput)+pastInput+" |currentInput = "+ typeof(currentInput) + currentInput + " |currentOperation = "+ currentOperation);
    for (let [key] of Object.entries(actions)) { 
      if (currentOperation == key ) {
        actions[clicked_Id];
        console.log(actions[clicked_Id] + ' succesfully operated')
      }
      else {
        pastInput += parseFloat(currentInput);
      }
    }
    currentInput = 0;
    currentOperation = [clicked_Id]
    document.getElementById("previous").innerHTML = pastInput;
    document.getElementById("total").innerHTML = currentInput;
  }

  let operate = function () {
    first =
      second = parseFloat(prompt("second number:"))
    total = (first + second)
    return (total)
    console.log(total)
  };


</script>